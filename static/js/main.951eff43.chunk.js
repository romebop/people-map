(this["webpackJsonppeople-map"]=this["webpackJsonppeople-map"]||[]).push([[0],{140:function(e,n,t){},142:function(e,n,t){},143:function(e,n,t){},147:function(e,n,t){},150:function(e,n,t){},152:function(e,n,t){},156:function(e,n,t){"use strict";t.r(n);var c,i=t(0),o=t.n(i),a=t(14),r=t.n(a),s=t(33),d=(t(140),t(13)),l=t(9),u=t(38),j=t(17),O=t(83),h=t(5),p=t(164),b=(t(142),t(143),t(1)),f=function(e){var n=e.people,t=e.allConnections,o=e.hasQuery,a=e.setSearchInputValue,r=e.peopleDispatch,s=Object(i.useState)(""),d=Object(l.a)(s,2),u=d[0],j=d[1],O=Object(i.useState)(!1),h=Object(l.a)(O,2),p=h[0],f=h[1];Object(i.useEffect)((function(){p&&(v.current.scrollIntoView({behavior:"smooth",block:"end"}),f(!1))}),[p]);var v=Object(i.useRef)(null);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{id:"person-cards-container",children:n.length>0?n.map((function(e){return Object(b.jsx)(y,{person:e,allConnections:t,setSearchInputValue:a,peopleDispatch:r},e.id)})):o?Object(b.jsx)("div",{className:"no-people-placeholder",children:"We didn't find anything"}):Object(b.jsx)("div",{className:"no-people-placeholder",children:"Add a new person!"})}),Object(b.jsxs)("form",{ref:v,id:"add-person-line",children:[Object(b.jsx)("input",{id:"add-person-input",type:"text",placeholder:"Enter a name",value:u,onChange:function(e){return j(e.target.value)}}),Object(b.jsx)("button",{id:"add-person-button",type:"submit",onClick:function(){var e=u.trim();e&&(r({type:c.ADD_PERSON,payload:{name:e}}),j(""),f(!0))},disabled:0===u.trim().length,title:"Add Person",children:"+ Person"})]})]})},v=t(8),N=t(162),x=t(42),m=t(163),E=t(159),C=t(160),g=t(161),y=(t(145),t(146),t(147),function(e){var n=e.person,t=e.allConnections,o=e.setSearchInputValue,a=e.peopleDispatch,r=Object(i.useState)(""),s=Object(l.a)(r,2),d=s[0],j=s[1],O=t.filter((function(e){return e.id!==n.id&&!n.connections.map((function(e){return e.id})).includes(e.id)})),h=d?new u.a(O,{keys:["name"],threshold:.4}).search(d).map((function(e){return e.item})):O,f=Object(i.useState)(""),y=Object(l.a)(f,2),I=y[0],k=y[1],S=function(e){return e.hover?"menu-item hover":"menu-item"};return Object(b.jsxs)("div",{className:"person-card",children:[Object(b.jsxs)("div",{className:"top-section",children:[n.isPinned&&Object(b.jsx)("button",{className:"pin-button",title:"Unpin",onClick:function(){return a({type:c.UNPIN_PERSON,payload:{id:n.id}})},children:Object(b.jsxs)("svg",{className:"pin-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(b.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(b.jsx)("path",{className:"pin-icon-path",d:"M17 4a2 2 0 0 0-2-2H9c-1.1 0-2 .9-2 2v7l-2 3v2h6v5l1 1 1-1v-5h6v-2l-2-3V4z"})]})}),Object(b.jsx)("div",{className:"name-text",title:Object(N.a)(n.createdDate,"MM/dd/yyyy hh:mm aaaaa'm"),children:n.name}),Object(b.jsxs)(m.a,{menuClassName:"menu",menuButton:function(e){var n=e.open;return Object(b.jsx)("button",{className:"more-button ".concat(n?"show":""),children:Object(b.jsx)("svg",{className:"more-icon",fill:"none",viewBox:"0 0 24 24",stroke:"#444",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})})},position:"anchor",children:[n.isPinned?Object(b.jsx)(E.a,{className:S,onClick:function(){return a({type:c.UNPIN_PERSON,payload:{id:n.id}})},children:"Unpin card"}):Object(b.jsx)(E.a,{className:S,onClick:function(){return a({type:c.PIN_PERSON,payload:{id:n.id}})},children:"Pin card"}),n.showConnections?Object(b.jsx)(E.a,{className:S,onClick:function(){return a({type:c.HIDE_CONNECTIONS,payload:{id:n.id}})},children:"Hide connections"}):Object(b.jsx)(E.a,{className:S,onClick:function(){return a({type:c.SHOW_CONNECTIONS,payload:{id:n.id}})},children:"Show connections"}),Object(b.jsx)(E.a,{className:S,onClick:function(){return a({type:c.DELETE_PERSON,payload:{id:n.id}})},children:"Delete card"})]})]}),Object(b.jsxs)("div",{className:"connections ".concat(n.showConnections?"show":""),children:[n.connections.map((function(e){return Object(b.jsx)(D,{personId:n.id,connection:e,setSearchInputValue:o,peopleDispatch:a},e.id)})),Object(b.jsxs)(m.a,{menuClassName:"menu",menuButton:function(e){var t=e.open;return Object(b.jsx)("button",{className:"add-connection-button ".concat(0===n.connections.length||t?"show":""),title:"Add connection",children:Object(b.jsx)("svg",{className:"add-connection-icon",viewBox:"0 0 24 24",strokeWidth:2,children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})})},overflow:"auto",setDownOverflow:!0,position:"anchor",onMenuChange:function(e){return e.open&&j("")},children:[Object(b.jsx)(C.a,{children:function(e){var n=e.ref;return Object(b.jsx)("input",{autoFocus:!0,ref:n,className:"connection-filter-input",type:"text",placeholder:"Filter connections",value:d,onChange:function(e){return j(e.target.value)}})}}),h.length?Object(b.jsx)(g.a,{takeOverflow:!0,children:h.map((function(e){var t=e.name,i=e.id;return Object(b.jsx)(E.a,{className:S,onClick:function(){return a({type:c.ADD_CONNECTION,payload:{id:n.id,connection:{name:t,id:i}}})},children:t},i)}))}):O.length&&d.trim().length?Object(b.jsx)("div",{className:"no-connections-placeholder",children:"Person not found"}):Object(b.jsx)("div",{className:"no-connections-placeholder",children:"None available"})]})]}),n.notes.length?Object(b.jsx)(x.a,{onDragEnd:function(e){e.destination&&e.destination.index!==e.source.index&&a({type:c.REORDER_NOTES,payload:{id:n.id,startIdx:e.source.index,endIdx:e.destination.index}})},children:Object(b.jsx)(x.c,{droppableId:n.id,children:function(e,t){return Object(b.jsxs)("div",Object(v.a)(Object(v.a)({className:"notes ".concat(t.isDraggingOver?"dragging-over":""),ref:e.innerRef},e.droppableProps),{},{children:[n.notes.map((function(e,t){return Object(b.jsx)(x.b,{draggableId:e.id,index:t,children:function(t,i){return Object(b.jsxs)("div",Object(v.a)(Object(v.a)({className:"note ".concat(i.isDragging?"dragging":""),ref:t.innerRef},t.draggableProps),{},{children:[Object(b.jsx)("div",Object(v.a)(Object(v.a)({className:"drag-note-handle"},t.dragHandleProps),{},{children:Object(b.jsxs)("svg",{className:"drag-note-icon",viewBox:"0 0 24 36",children:[Object(b.jsx)("path",{d:"M9.17627 7.35286C9.17627 8.91224 7.91228 10.1765 6.35291 10.1765C4.79353 10.1765 3.5293 8.91224 3.5293 7.35286C3.5293 5.79349 4.79353 4.52949 6.35291 4.52949C7.91228 4.52949 9.17627 5.79349 9.17627 7.35286Z"}),Object(b.jsx)("path",{d:"M9.17627 17.6471C9.17627 19.2064 7.91228 20.4707 6.35291 20.4707C4.79353 20.4707 3.5293 19.2064 3.5293 17.6471C3.5293 16.0877 4.79353 14.8235 6.35291 14.8235C7.91228 14.8235 9.17627 16.0877 9.17627 17.6471Z"}),Object(b.jsx)("path",{d:"M9.17627 27.9414C9.17627 29.5008 7.91228 30.7647 6.35291 30.7647C4.79353 30.7647 3.5293 29.5008 3.5293 27.9414C3.5293 26.382 4.79353 25.1178 6.35291 25.1178C7.91228 25.1178 9.17627 26.382 9.17627 27.9414Z"}),Object(b.jsx)("path",{d:"M20.4706 7.35286C20.4706 8.91224 19.2063 10.1765 17.647 10.1765C16.0876 10.1765 14.8236 8.91224 14.8236 7.35286C14.8236 5.79349 16.0876 4.52949 17.647 4.52949C19.2063 4.52949 20.4706 5.79349 20.4706 7.35286Z"}),Object(b.jsx)("path",{d:"M20.4706 17.6471C20.4706 19.2064 19.2063 20.4707 17.647 20.4707C16.0876 20.4707 14.8236 19.2064 14.8236 17.6471C14.8236 16.0877 16.0876 14.8235 17.647 14.8235C19.2063 14.8235 20.4706 16.0877 20.4706 17.6471Z"}),Object(b.jsx)("path",{d:"M20.4706 27.9414C20.4706 29.5008 19.2063 30.7647 17.647 30.7647C16.0876 30.7647 14.8236 29.5008 14.8236 27.9414C14.8236 26.382 16.0876 25.1178 17.647 25.1178C19.2063 25.1178 20.4706 26.382 20.4706 27.9414Z"})]})})),Object(b.jsx)("div",{className:"note-text",title:Object(N.a)(e.createdDate,"MM/dd/yyyy hh:mm aaaaa'm"),children:e.content}),Object(b.jsx)("button",{className:"delete-note-button",title:"Delete note",onClick:function(){return a({type:c.DELETE_NOTE,payload:{personId:n.id,noteId:e.id}})},children:Object(b.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",className:"delete-note-icon",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}))}},e.id)})),e.placeholder]}))}})}):Object(b.jsx)("div",{className:"notes",children:Object(b.jsx)("div",{className:"no-notes-placeholder",children:"You currently have no notes for this person"})}),Object(b.jsxs)("form",{className:"note-input-section",children:[Object(b.jsx)("input",{className:"note-input",type:"text",placeholder:"Write a note",value:I,onChange:function(e){return k(e.target.value)}}),Object(b.jsx)("button",{className:"add-note-button",type:"submit",onClick:function(){var e=I.trim();if(e){var t={id:Object(p.a)(),content:e,createdDate:new Date};a({type:c.ADD_NOTE,payload:{id:n.id,note:t}}),k("")}},disabled:0===I.trim().length,title:"Add note",children:"+ Note"})]})]})}),D=(t(150),function(e){var n=e.personId,t=e.connection,o=e.setSearchInputValue,a=e.peopleDispatch,r=Object(i.useState)(!1),s=Object(l.a)(r,2),d=s[0],u=s[1];return Object(b.jsxs)("div",{className:"chip ".concat(d?"activated":""),tabIndex:0,onClick:function(){return u(!0)},onBlur:function(){return u(!1)},children:[Object(b.jsx)("div",{className:"chip-text",title:"Search connection",onClick:function(){d&&o(t.name)},children:t.name}),Object(b.jsx)("div",{className:"delete-chip-button",title:"Delete connection",onClick:function(){return a({type:c.DELETE_CONNECTION,payload:{personId:n,connectionId:t.id}})},children:Object(b.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",className:"delete-chip-icon",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),I=t(22),k=(t(152),function(e){var n=e.people,t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=function(e){return{nodes:[{name:"me"}].concat(Object(d.a)(e.map((function(e){return{name:e.name}})))),links:e.map((function(e){return{source:"me",target:e.name}}))}}(n),c=e.nodes,i=e.links,o=I.h(t.current),a=I.f(I.g),r=I.e(c).force("link",I.c(i).id((function(e){return e.name}))).force("charge",I.d().strength(-500)).force("center",I.b(270,200)).on("tick",(function(){s.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),l.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))})),s=o.append("g").attr("stroke","#999").attr("stroke-opacity",.4).attr("stroke-width",1).attr("stroke-linecap","round").selectAll("line").data(i).join("line"),l=o.append("g").attr("stroke","#ccc").attr("stroke-opacity",1).attr("stroke-width",1.5).selectAll("circle").data(c).join("circle").attr("r",10).attr("fill",(function(e){return a(e.name)})).call(function(e){return I.a().on("start",(function(n,t){n.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e,n){n.fx=e.x,n.fy=e.y})).on("end",(function(n,t){n.active||e.alphaTarget(0),t.fx=null,t.fy=null}))}(r));l.append("title").text((function(e){return e.name}))}),[n]),Object(b.jsx)("svg",{id:"d3-svg",ref:t})}),S=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d*)?(?:[-+]\d{2}:?\d{2}|Z)?$/;function T(e){return e&&"string"===typeof e&&S.test(e)}function _(e){for(var n=0,t=Object.entries(e);n<t.length;n++){var c=Object(l.a)(t[n],2),i=c[0],o=c[1];T(o)&&(e[i]=new Date(o)),"object"===typeof o&&_(o)}}function P(e){var n=localStorage.getItem("data");if(null!==n){var t=JSON.parse(n);return _(t),t}return e}function w(e,n){var t=n.type,i=n.payload;switch(t){case c.ADD_PERSON:return Object(j.a)(e,(function(e){var n={id:Object(p.a)(),name:i.name,notes:[],createdDate:new Date,isPinned:!1,showConnections:!1,connections:[]};e.push(n)}));case c.DELETE_PERSON:return Object(j.a)(e,(function(e){var n=e.findIndex((function(e){return e.id===i.id}));e.splice(n,1)}));case c.PIN_PERSON:return Object(j.a)(e,(function(e){e.find((function(e){return e.id===i.id})).isPinned=!0}));case c.UNPIN_PERSON:return Object(j.a)(e,(function(e){e.find((function(e){return e.id===i.id})).isPinned=!1}));case c.SHOW_CONNECTIONS:return Object(j.a)(e,(function(e){e.find((function(e){return e.id===i.id})).showConnections=!0}));case c.HIDE_CONNECTIONS:return Object(j.a)(e,(function(e){e.find((function(e){return e.id===i.id})).showConnections=!1}));case c.ADD_CONNECTION:return Object(j.a)(e,(function(e){var n=e.find((function(e){return e.id===i.id}));null===n||void 0===n||n.connections.push(i.connection);var t=e.find((function(e){return e.id===i.connection.id}));null===t||void 0===t||t.connections.push({name:null===n||void 0===n?void 0:n.name,id:i.id})}));case c.DELETE_CONNECTION:return Object(j.a)(e,(function(e){var n,t,c,o,a=e.find((function(e){return e.id===i.personId})),r=null===a||void 0===a||null===(n=a.connections)||void 0===n?void 0:n.findIndex((function(e){return e.id===i.connectionId}));null===a||void 0===a||null===(t=a.connections)||void 0===t||t.splice(r,1);var s=e.find((function(e){return e.id===i.connectionId})),d=null===s||void 0===s||null===(c=s.connections)||void 0===c?void 0:c.findIndex((function(e){return e.id===i.personId}));null===s||void 0===s||null===(o=s.connections)||void 0===o||o.splice(d,1)}));case c.ADD_NOTE:return Object(j.a)(e,(function(e){var n=e.find((function(e){return e.id===i.id}));null===n||void 0===n||n.notes.push(i.note)}));case c.DELETE_NOTE:return Object(j.a)(e,(function(e){var n,t,c=e.find((function(e){return e.id===i.personId})),o=null===c||void 0===c||null===(n=c.notes)||void 0===n?void 0:n.findIndex((function(e){return e.id===i.noteId}));null===c||void 0===c||null===(t=c.notes)||void 0===t||t.splice(o,1)}));case c.REORDER_NOTES:return Object(j.a)(e,(function(e){var n=e.find((function(e){return e.id===i.id})),t=null===n||void 0===n?void 0:n.notes.splice(i.startIdx,1),c=Object(l.a)(t,1)[0];null===n||void 0===n||n.notes.splice(i.endIdx,0,c)}));default:return e}}!function(e){e.ADD_PERSON="ADD_PERSON",e.DELETE_PERSON="DELETE_PERSON",e.PIN_PERSON="PIN_PERSON",e.UNPIN_PERSON="UNPIN_PERSON",e.SHOW_CONNECTIONS="SHOW_CONNECTIONS",e.HIDE_CONNECTIONS="HIDE_CONNECTIONS",e.ADD_CONNECTION="ADD_CONNECTION",e.DELETE_CONNECTION="DELETE_CONNECTION",e.ADD_NOTE="ADD_NOTE",e.DELETE_NOTE="DELETE_NOTE",e.REORDER_NOTES="REORDER_NOTES"}(c||(c={}));var M=function(){var e=Object(i.useReducer)(w,[],P),n=Object(l.a)(e,2),t=n[0],c=n[1],o=t.map((function(e){return{name:e.name,id:e.id}})),a=Object(i.useState)(""),r=Object(l.a)(a,2),j=r[0],p=r[1],v=j.trim().length>0,N=Object(h.g)().pathname.slice(1),x=Object(i.useRef)(null);Object(i.useEffect)((function(){localStorage.setItem("data",JSON.stringify(t))}),[t]);var m=j?new u.a(t,{keys:["name","notes.content"],threshold:.4}).search(j).map((function(e){return e.item})):t,E=[].concat(Object(d.a)(m.filter((function(e){return e.isPinned}))),Object(d.a)(m.filter((function(e){return!e.isPinned})))),C=Object(i.useRef)(Object(O.debounce)((function(e){var n;p(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)}),150)).current,g=function(e){x.current.value=e,p(e)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{id:"top-container",children:[Object(b.jsxs)("div",{id:"search-container",children:[Object(b.jsx)("svg",{id:"search-icon",className:"".concat(v?"active":""),fill:"none",viewBox:"0 0 24 24",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Object(b.jsx)("input",{ref:x,id:"search-input",type:"text",placeholder:"Search by name, note",onChange:C}),Object(b.jsx)("button",{id:"delete-query-button",title:"Clear",className:"".concat(v?"show":""),onClick:function(){return g("")},children:Object(b.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",id:"delete-query-icon",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]}),Object(b.jsxs)("div",{id:"links-container",children:[Object(b.jsx)(s.b,{to:"/cards",title:"Card View",children:Object(b.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"#000",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),Object(b.jsx)(s.b,{to:"/graph",title:"Graph View",children:Object(b.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"#000",children:Object(b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"})})}),Object(b.jsx)("div",{className:"active-route-highlight ".concat(N)})]})]}),Object(b.jsxs)(h.d,{children:[Object(b.jsx)(h.b,{path:"/cards",children:Object(b.jsx)(f,{people:E,allConnections:o,hasQuery:v,setSearchInputValue:g,peopleDispatch:c})}),Object(b.jsx)(h.b,{path:"/graph",children:Object(b.jsx)(k,{people:E})}),Object(b.jsx)(h.b,{exact:!0,path:"/",children:Object(b.jsx)(h.a,{to:"/cards"})})]})]})},R=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,165)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),o(e),a(e)}))};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(M,{})})}),document.getElementById("root")),R()}},[[156,1,2]]]);
//# sourceMappingURL=main.951eff43.chunk.js.map