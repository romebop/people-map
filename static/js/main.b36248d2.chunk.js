(this["webpackJsonppeople-map"]=this["webpackJsonppeople-map"]||[]).push([[0],{32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c,i=n(0),a=n.n(i),r=n(7),d=n.n(r),o=(n(32),n(6)),s=n(26),l=n(9),j=n(23),u=n(16),p=n(2),b=n(46),O=(n(34),n(35),n(1)),h=function(e){var t=e.people,n=e.hasQuery,a=e.peopleDispatch,r=Object(i.useState)(""),d=Object(o.a)(r,2),s=d[0],l=d[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{id:"person-cards-container",children:t.length>0?t.map((function(e){return Object(O.jsx)(m,{person:e,peopleDispatch:a},e.id)})):n?Object(O.jsx)("div",{className:"no-people-placeholder",children:"We didn't find anything"}):Object(O.jsx)("div",{className:"no-people-placeholder",children:"Add a new person!"})}),Object(O.jsxs)("form",{id:"add-person-line",children:[Object(O.jsx)("input",{id:"add-person-input",type:"text",placeholder:"Enter a name",value:s,onChange:function(e){return l(e.target.value)}}),Object(O.jsx)("button",{id:"add-person-button",type:"submit",onClick:function(){var e=s.trim();e&&(a({type:c.ADD_PERSON,payload:{name:e}}),l(""))},disabled:0===s.trim().length,title:"Add Person",children:"+ Person"})]})]})},x=n(3),f=n(45),v=n(15),m=(n(37),function(e){var t=e.person,n=e.peopleDispatch,a=Object(i.useState)(""),r=Object(o.a)(a,2),d=r[0],s=r[1];return Object(O.jsxs)("div",{className:"person-card",children:[Object(O.jsxs)("div",{className:"name-section",children:[Object(O.jsx)("div",{className:"name-text",title:Object(f.a)(t.createdDate,"MM/dd/yyyy hh:mm aaaaa'm"),children:t.name}),Object(O.jsx)("div",{className:"delete-person-button",title:"Delete person card",onClick:function(){return n({type:c.DELETE_PERSON,payload:{id:t.id}})},children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 delete-person-icon",fill:"none",viewBox:"0 0 24 24",stroke:"#444",children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.notes.length?Object(O.jsx)(v.a,{onDragEnd:function(e){e.destination&&e.destination.index!==e.source.index&&n({type:c.REORDER_NOTES,payload:{id:t.id,startIdx:e.source.index,endIdx:e.destination.index}})},children:Object(O.jsx)(v.c,{droppableId:t.id,children:function(e){return Object(O.jsxs)("div",Object(x.a)(Object(x.a)({className:"notes",ref:e.innerRef},e.droppableProps),{},{children:[t.notes.map((function(e,i){return Object(O.jsx)(v.b,{draggableId:e.id,index:i,children:function(i){return Object(O.jsxs)("div",Object(x.a)(Object(x.a)(Object(x.a)({className:"note",ref:i.innerRef},i.draggableProps),i.dragHandleProps),{},{children:[Object(O.jsx)("div",{className:"note-text",title:Object(f.a)(e.createdDate,"MM/dd/yyyy hh:mm aaaaa'm"),children:e.content}),Object(O.jsx)("div",{className:"delete-note-button-container",children:Object(O.jsx)("div",{className:"delete-note-button",title:"Delete note",onClick:function(){return n({type:c.DELETE_NOTE,payload:{personId:t.id,noteId:e.id}})},children:Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 delete-note-icon",fill:"none",viewBox:"0 0 24 24",stroke:"#444",children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}))}},e.id)})),e.placeholder]}))}})}):Object(O.jsx)("div",{className:"notes",children:Object(O.jsx)("div",{className:"no-notes-placeholder",children:"You have no notes for this person"})}),Object(O.jsxs)("form",{className:"note-input-section",children:[Object(O.jsx)("input",{className:"note-input",type:"text",placeholder:"Write a note",value:d,onChange:function(e){return s(e.target.value)}}),Object(O.jsx)("button",{className:"add-note-button",type:"submit",onClick:function(){var e=d.trim();if(e){var i={id:Object(b.a)(),content:e,createdDate:new Date};n({type:c.ADD_NOTE,payload:{id:t.id,note:i}}),s("")}},disabled:0===d.trim().length,title:"Add note",children:"+ Note"})]})]})}),E=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d*)?(?:[-+]\d{2}:?\d{2}|Z)?$/;function g(e){return e&&"string"===typeof e&&E.test(e)}function D(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var c=Object(o.a)(n[t],2),i=c[0],a=c[1];g(a)&&(e[i]=new Date(a)),"object"===typeof a&&D(a)}}function N(e){var t=localStorage.getItem("data");if(null!==t){var n=JSON.parse(t);return D(n),n}return e}function y(e,t){var n=t.type,i=t.payload;switch(n){case c.ADD_PERSON:return Object(l.a)(e,(function(e){var t={id:Object(b.a)(),name:i.name,notes:[],createdDate:new Date};e.push(t)}));case c.DELETE_PERSON:return Object(l.a)(e,(function(e){var t=e.findIndex((function(e){return e.id===i.id}));e.splice(t,1)}));case c.ADD_NOTE:return Object(l.a)(e,(function(e){var t=e.find((function(e){return e.id===i.id}));null===t||void 0===t||t.notes.push(i.note)}));case c.DELETE_NOTE:return Object(l.a)(e,(function(e){var t,n,c=e.find((function(e){return e.id===i.personId})),a=null===c||void 0===c||null===(t=c.notes)||void 0===t?void 0:t.findIndex((function(e){return e.id===i.noteId}));null===c||void 0===c||null===(n=c.notes)||void 0===n||n.splice(a,1)}));case c.REORDER_NOTES:return Object(l.a)(e,(function(e){var t=e.find((function(e){return e.id===i.id})),n=null===t||void 0===t?void 0:t.notes.splice(i.startIdx,1),c=Object(o.a)(n,1)[0];null===t||void 0===t||t.notes.splice(i.endIdx,0,c)}));default:return e}}!function(e){e.ADD_PERSON="ADD_PERSON",e.DELETE_PERSON="DELETE_PERSON",e.ADD_NOTE="ADD_NOTE",e.DELETE_NOTE="DELETE_NOTE",e.REORDER_NOTES="REORDER_NOTES"}(c||(c={}));var w=function(){var e=Object(i.useReducer)(y,[],N),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(""),r=Object(o.a)(a,2),d=r[0],l=r[1],b=d.trim().length>0;Object(i.useEffect)((function(){localStorage.setItem("data",JSON.stringify(n))}),[n]);var x=d?new s.a(n,{keys:["name","notes.content"],threshold:.4}).search(d).map((function(e){return e.item})):n,f=Object(i.useRef)(Object(j.debounce)((function(e){var t;l(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}),150)).current;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{id:"search-container",children:[Object(O.jsx)("svg",{id:"search-icon",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ".concat(b?"active":""),fill:"none",viewBox:"0 0 24 24",stroke:b?"#0095ffcc":"black",children:Object(O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Object(O.jsx)("input",{id:"search-input",type:"text",placeholder:"Search by name, note",onChange:f})]}),Object(O.jsxs)(u.a,{children:[Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/cards",children:"Cards"})}),Object(O.jsx)("li",{children:Object(O.jsx)(u.b,{to:"/graph",children:"Graph"})})]})}),Object(O.jsxs)(p.d,{children:[Object(O.jsx)(p.b,{path:"/cards",children:Object(O.jsx)(h,{people:x,hasQuery:b,peopleDispatch:c})}),Object(O.jsx)(p.b,{path:"/graph",children:Object(O.jsx)("div",{children:"under construction :3"})}),Object(O.jsx)(p.b,{exact:!0,path:"/",children:Object(O.jsx)(p.a,{to:"/cards"})})]})]})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};d.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root")),R()}},[[43,1,2]]]);
//# sourceMappingURL=main.b36248d2.chunk.js.map