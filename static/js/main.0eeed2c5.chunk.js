(this["webpackJsonppeople-map"]=this["webpackJsonppeople-map"]||[]).push([[0],{131:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},136:function(e,t,n){},140:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var c,r=n(0),a=n.n(r),i=n(18),o=n.n(i),s=(n(131),n(9)),d=n(75),l=n(21),u=n(73),j=n(32),p=n(2),b=n(147),h=(n(133),n(134),n(1)),O=function(e){var t=e.people,n=e.hasQuery,a=e.peopleDispatch,i=Object(r.useState)(""),o=Object(s.a)(i,2),d=o[0],l=o[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{id:"person-cards-container",children:t.length>0?t.map((function(e){return Object(h.jsx)(m,{person:e,peopleDispatch:a},e.id)})):n?Object(h.jsx)("div",{className:"no-people-placeholder",children:"We didn't find anything"}):Object(h.jsx)("div",{className:"no-people-placeholder",children:"Add a new person!"})}),Object(h.jsxs)("form",{id:"add-person-line",children:[Object(h.jsx)("input",{id:"add-person-input",type:"text",placeholder:"Enter a name",value:d,onChange:function(e){return l(e.target.value)}}),Object(h.jsx)("button",{id:"add-person-button",type:"submit",onClick:function(){var e=d.trim();e&&(a({type:c.ADD_PERSON,payload:{name:e}}),l(""))},disabled:0===d.trim().length,title:"Add Person",children:"+ Person"})]})]})},f=n(5),x=n(146),v=n(31),m=(n(136),function(e){var t=e.person,n=e.peopleDispatch,a=Object(r.useState)(""),i=Object(s.a)(a,2),o=i[0],d=i[1];return Object(h.jsxs)("div",{className:"person-card",children:[Object(h.jsxs)("div",{className:"name-section",children:[Object(h.jsx)("div",{className:"name-text",title:Object(x.a)(t.createdDate,"MM/dd/yyyy hh:mm aaaaa'm"),children:t.name}),Object(h.jsx)("div",{className:"delete-person-button",title:"Delete person card",onClick:function(){return n({type:c.DELETE_PERSON,payload:{id:t.id}})},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 delete-person-icon",fill:"none",viewBox:"0 0 24 24",stroke:"#444",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.notes.length?Object(h.jsx)(v.a,{onDragEnd:function(e){e.destination&&e.destination.index!==e.source.index&&n({type:c.REORDER_NOTES,payload:{id:t.id,startIdx:e.source.index,endIdx:e.destination.index}})},children:Object(h.jsx)(v.c,{droppableId:t.id,children:function(e){return Object(h.jsxs)("div",Object(f.a)(Object(f.a)({className:"notes",ref:e.innerRef},e.droppableProps),{},{children:[t.notes.map((function(e,r){return Object(h.jsx)(v.b,{draggableId:e.id,index:r,children:function(r){return Object(h.jsxs)("div",Object(f.a)(Object(f.a)(Object(f.a)({className:"note",ref:r.innerRef},r.draggableProps),r.dragHandleProps),{},{children:[Object(h.jsx)("div",{className:"note-text",title:Object(x.a)(e.createdDate,"MM/dd/yyyy hh:mm aaaaa'm"),children:e.content}),Object(h.jsx)("div",{className:"delete-note-button-container",children:Object(h.jsx)("div",{className:"delete-note-button",title:"Delete note",onClick:function(){return n({type:c.DELETE_NOTE,payload:{personId:t.id,noteId:e.id}})},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 delete-note-icon",fill:"none",viewBox:"0 0 24 24",stroke:"#444",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]}))}},e.id)})),e.placeholder]}))}})}):Object(h.jsx)("div",{className:"notes",children:Object(h.jsx)("div",{className:"no-notes-placeholder",children:"You have no notes for this person"})}),Object(h.jsxs)("form",{className:"note-input-section",children:[Object(h.jsx)("input",{className:"note-input",type:"text",placeholder:"Write a note",value:o,onChange:function(e){return d(e.target.value)}}),Object(h.jsx)("button",{className:"add-note-button",type:"submit",onClick:function(){var e=o.trim();if(e){var r={id:Object(b.a)(),content:e,createdDate:new Date};n({type:c.ADD_NOTE,payload:{id:t.id,note:r}}),d("")}},disabled:0===o.trim().length,title:"Add note",children:"+ Note"})]})]})}),g=n(12),E=n(14),y=(n(140),function(e){var t=e.people,n=Object(r.useRef)(null);return Object(r.useEffect)((function(){console.log("rendering graph:");var e=function(e){return{nodes:[{name:"me"}].concat(Object(g.a)(e.map((function(e){return{name:e.name}})))),links:e.map((function(e){return{source:"me",target:e.name}}))}}(t),c=e.nodes,r=e.links,a=E.h(n.current),i=E.f(E.g),o=E.e(c).force("link",E.c(r).id((function(e){return e.name}))).force("charge",E.d().strength(-500)).force("center",E.b(270,200)).on("tick",(function(){s.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),d.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))})),s=a.append("g").attr("stroke","#999").attr("stroke-opacity",.4).attr("stroke-width",1).attr("stroke-linecap","round").selectAll("line").data(r).join("line"),d=a.append("g").attr("stroke","#ccc").attr("stroke-opacity",1).attr("stroke-width",1.5).selectAll("circle").data(c).join("circle").attr("r",10).attr("fill",(function(e){return i(e.name)})).call(function(e){return E.a().on("start",(function(t,n){t.active||e.alphaTarget(.3).restart(),n.fx=n.x,n.fy=n.y})).on("drag",(function(e,t){t.fx=e.x,t.fy=e.y})).on("end",(function(t,n){t.active||e.alphaTarget(0),n.fx=null,n.fy=null}))}(o));d.append("title").text((function(e){return e.name}))}),[t]),Object(h.jsx)("svg",{id:"d3-svg",ref:n})}),D=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d*)?(?:[-+]\d{2}:?\d{2}|Z)?$/;function N(e){return e&&"string"===typeof e&&D.test(e)}function k(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var c=Object(s.a)(n[t],2),r=c[0],a=c[1];N(a)&&(e[r]=new Date(a)),"object"===typeof a&&k(a)}}function w(e){var t=localStorage.getItem("data");if(null!==t){var n=JSON.parse(t);return k(n),n}return e}function R(e,t){var n=t.type,r=t.payload;switch(n){case c.ADD_PERSON:return Object(l.a)(e,(function(e){var t={id:Object(b.a)(),name:r.name,notes:[],createdDate:new Date};e.push(t)}));case c.DELETE_PERSON:return Object(l.a)(e,(function(e){var t=e.findIndex((function(e){return e.id===r.id}));e.splice(t,1)}));case c.ADD_NOTE:return Object(l.a)(e,(function(e){var t=e.find((function(e){return e.id===r.id}));null===t||void 0===t||t.notes.push(r.note)}));case c.DELETE_NOTE:return Object(l.a)(e,(function(e){var t,n,c=e.find((function(e){return e.id===r.personId})),a=null===c||void 0===c||null===(t=c.notes)||void 0===t?void 0:t.findIndex((function(e){return e.id===r.noteId}));null===c||void 0===c||null===(n=c.notes)||void 0===n||n.splice(a,1)}));case c.REORDER_NOTES:return Object(l.a)(e,(function(e){var t=e.find((function(e){return e.id===r.id})),n=null===t||void 0===t?void 0:t.notes.splice(r.startIdx,1),c=Object(s.a)(n,1)[0];null===t||void 0===t||t.notes.splice(r.endIdx,0,c)}));default:return e}}!function(e){e.ADD_PERSON="ADD_PERSON",e.DELETE_PERSON="DELETE_PERSON",e.ADD_NOTE="ADD_NOTE",e.DELETE_NOTE="DELETE_NOTE",e.REORDER_NOTES="REORDER_NOTES"}(c||(c={}));var T=function(){var e=Object(r.useReducer)(R,[],w),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],b=o.trim().length>0;Object(r.useEffect)((function(){localStorage.setItem("data",JSON.stringify(n))}),[n]);var f=o?new d.a(n,{keys:["name","notes.content"],threshold:.4}).search(o).map((function(e){return e.item})):n,x=Object(r.useRef)(Object(u.debounce)((function(e){var t;l(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}),150)).current;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{id:"search-container",children:[Object(h.jsx)("svg",{id:"search-icon",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 ".concat(b?"active":""),fill:"none",viewBox:"0 0 24 24",stroke:b?"#0095ffcc":"black",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Object(h.jsx)("input",{id:"search-input",type:"text",placeholder:"Search by name, note",onChange:x})]}),Object(h.jsxs)(j.a,{children:[Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(j.b,{to:"/cards",children:"Cards"})}),Object(h.jsx)("li",{children:Object(h.jsx)(j.b,{to:"/graph",children:"Graph"})})]})}),Object(h.jsxs)(p.d,{children:[Object(h.jsx)(p.b,{path:"/cards",children:Object(h.jsx)(O,{people:f,hasQuery:b,peopleDispatch:c})}),Object(h.jsx)(p.b,{path:"/graph",children:Object(h.jsx)(y,{people:f})}),Object(h.jsx)(p.b,{exact:!0,path:"/",children:Object(h.jsx)(p.a,{to:"/cards"})})]})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root")),S()}},[[144,1,2]]]);
//# sourceMappingURL=main.0eeed2c5.chunk.js.map