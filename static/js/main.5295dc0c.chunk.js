(this["webpackJsonppeople-map"]=this["webpackJsonppeople-map"]||[]).push([[0],{141:function(e,n,t){},145:function(e,n,t){},148:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},155:function(e,n,t){},156:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t.n(c),o=t(14),r=t.n(o),a=t(33),s=t(13),d=t(9),l=t(38),u=t(17),j=t(83),O=t(5),h=t(164),p=(t(141),t(1)),b=function(e){var n=e.people,t=e.allConnections,i=e.hasQuery,o=e.setSearchInputValue,r=e.peopleDispatch,a=Object(c.useState)(""),s=Object(d.a)(a,2),l=s[0],u=s[1],j=Object(c.useState)(!1),O=Object(d.a)(j,2),h=O[0],b=O[1];Object(c.useEffect)((function(){h&&(f.current.scrollIntoView({behavior:"smooth",block:"end"}),b(!1))}),[h]);var f=Object(c.useRef)(null);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{id:"person-cards-container",children:n.length>0?n.map((function(e){return Object(p.jsx)(g,{person:e,allConnections:t,setSearchInputValue:o,peopleDispatch:r},e.id)})):i?Object(p.jsx)("div",{className:"no-people-placeholder",children:"We didn't find anything"}):Object(p.jsx)("div",{className:"no-people-placeholder",children:"Add a new person!"})}),Object(p.jsxs)("form",{ref:f,id:"add-person-line",children:[Object(p.jsx)("input",{id:"add-person-input",type:"text",placeholder:"Enter a name",value:l,onChange:function(e){return u(e.target.value)}}),Object(p.jsx)("button",{id:"add-person-button",type:"submit",onClick:function(){var e=l.trim();e&&(r({type:_.ADD_PERSON,payload:{name:e}}),u(""),b(!0))},disabled:0===l.trim().length,title:"Add Person",children:"+ Person"})]})]})},f=t(8),v=t(162),N=t(42),x=t(163),m=t(159),E=t(160),C=t(161),g=(t(143),t(144),t(145),function(e){var n=e.person,t=e.allConnections,i=e.setSearchInputValue,o=e.peopleDispatch,r=Object(c.useState)(""),a=Object(d.a)(r,2),s=a[0],u=a[1],j=t.filter((function(e){return e.id!==n.id&&!n.connections.map((function(e){return e.id})).includes(e.id)})),O=s?new l.a(j,{keys:["name"],threshold:.4}).search(s).map((function(e){return e.item})):j,b=Object(c.useState)(""),g=Object(d.a)(b,2),D=g[0],I=g[1],k=function(e){return e.hover?"menu-item hover":"menu-item"};return Object(p.jsxs)("div",{className:"person-card",children:[Object(p.jsxs)("div",{className:"top-section",children:[n.isPinned&&Object(p.jsx)("button",{className:"pin-button",title:"Unpin",onClick:function(){return o({type:_.UNPIN_PERSON,payload:{id:n.id}})},children:Object(p.jsxs)("svg",{className:"pin-icon",width:"24",height:"24",viewBox:"0 0 24 24",children:[Object(p.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(p.jsx)("path",{className:"pin-icon-path",d:"M17 4a2 2 0 0 0-2-2H9c-1.1 0-2 .9-2 2v7l-2 3v2h6v5l1 1 1-1v-5h6v-2l-2-3V4z"})]})}),Object(p.jsx)("div",{className:"name-text",title:Object(v.a)(n.createdDate,"MM/dd/yyyy hh:mm aaaaa'm"),children:n.name}),Object(p.jsxs)(x.a,{menuClassName:"menu",menuButton:function(e){var n=e.open;return Object(p.jsx)("button",{className:"more-button ".concat(n?"show opening":""),children:Object(p.jsx)("svg",{className:"more-icon",fill:"none",viewBox:"0 0 24 24",stroke:"#444",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})})})},position:"anchor",children:[n.isPinned?Object(p.jsx)(m.a,{className:k,onClick:function(){return o({type:_.UNPIN_PERSON,payload:{id:n.id}})},children:"Unpin card"}):Object(p.jsx)(m.a,{className:k,onClick:function(){return o({type:_.PIN_PERSON,payload:{id:n.id}})},children:"Pin card"}),n.showConnections?Object(p.jsx)(m.a,{className:k,onClick:function(){return o({type:_.HIDE_CONNECTIONS,payload:{id:n.id}})},children:"Hide connections"}):Object(p.jsx)(m.a,{className:k,onClick:function(){return o({type:_.SHOW_CONNECTIONS,payload:{id:n.id}})},children:"Show connections"}),Object(p.jsx)(m.a,{className:k,onClick:function(){return o({type:_.DELETE_PERSON,payload:{id:n.id}})},children:"Delete card"})]})]}),Object(p.jsxs)("div",{className:"connections ".concat(n.showConnections?"show":""),children:[n.connections.map((function(e){return Object(p.jsx)(y,{personId:n.id,connection:e,setSearchInputValue:i,peopleDispatch:o},e.id)})),Object(p.jsxs)(x.a,{menuClassName:"menu",menuButton:function(e){var t=e.open;return Object(p.jsx)("button",{className:"add-connection-button ".concat(t?"show opening":0===n.connections.length?"show":""),title:"Add connection",children:Object(p.jsx)("svg",{className:"add-connection-icon",viewBox:"0 0 24 24",strokeWidth:2,children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})})},overflow:"auto",setDownOverflow:!0,position:"anchor",onMenuChange:function(e){return e.open&&u("")},children:[Object(p.jsx)(E.a,{children:function(e){var n=e.ref;return Object(p.jsx)("input",{autoFocus:!0,ref:n,className:"connection-filter-input",type:"text",placeholder:"Filter connections",value:s,onChange:function(e){return u(e.target.value)}})}}),O.length?Object(p.jsx)(C.a,{takeOverflow:!0,children:O.map((function(e){var t=e.name,c=e.id;return Object(p.jsx)(m.a,{className:k,onClick:function(){return o({type:_.ADD_CONNECTION,payload:{id:n.id,connection:{name:t,id:c}}})},children:t},c)}))}):j.length&&s.trim().length?Object(p.jsx)("div",{className:"no-connections-placeholder",children:"Person not found"}):Object(p.jsx)("div",{className:"no-connections-placeholder",children:"None available"})]})]}),n.notes.length?Object(p.jsx)(N.a,{onDragEnd:function(e){e.destination&&e.destination.index!==e.source.index&&o({type:_.REORDER_NOTES,payload:{id:n.id,startIdx:e.source.index,endIdx:e.destination.index}})},children:Object(p.jsx)(N.c,{droppableId:n.id,children:function(e,t){return Object(p.jsxs)("div",Object(f.a)(Object(f.a)({className:"notes ".concat(t.isDraggingOver?"dragging-over":""),ref:e.innerRef},e.droppableProps),{},{children:[n.notes.map((function(e,t){return Object(p.jsx)(N.b,{draggableId:e.id,index:t,children:function(t,c){return Object(p.jsxs)("div",Object(f.a)(Object(f.a)({className:"note ".concat(c.isDragging?"dragging":""),ref:t.innerRef},t.draggableProps),{},{children:[Object(p.jsx)("div",Object(f.a)(Object(f.a)({className:"drag-note-handle"},t.dragHandleProps),{},{children:Object(p.jsxs)("svg",{className:"drag-note-icon",viewBox:"0 0 24 36",children:[Object(p.jsx)("path",{d:"M9.17627 7.35286C9.17627 8.91224 7.91228 10.1765 6.35291 10.1765C4.79353 10.1765 3.5293 8.91224 3.5293 7.35286C3.5293 5.79349 4.79353 4.52949 6.35291 4.52949C7.91228 4.52949 9.17627 5.79349 9.17627 7.35286Z"}),Object(p.jsx)("path",{d:"M9.17627 17.6471C9.17627 19.2064 7.91228 20.4707 6.35291 20.4707C4.79353 20.4707 3.5293 19.2064 3.5293 17.6471C3.5293 16.0877 4.79353 14.8235 6.35291 14.8235C7.91228 14.8235 9.17627 16.0877 9.17627 17.6471Z"}),Object(p.jsx)("path",{d:"M9.17627 27.9414C9.17627 29.5008 7.91228 30.7647 6.35291 30.7647C4.79353 30.7647 3.5293 29.5008 3.5293 27.9414C3.5293 26.382 4.79353 25.1178 6.35291 25.1178C7.91228 25.1178 9.17627 26.382 9.17627 27.9414Z"}),Object(p.jsx)("path",{d:"M20.4706 7.35286C20.4706 8.91224 19.2063 10.1765 17.647 10.1765C16.0876 10.1765 14.8236 8.91224 14.8236 7.35286C14.8236 5.79349 16.0876 4.52949 17.647 4.52949C19.2063 4.52949 20.4706 5.79349 20.4706 7.35286Z"}),Object(p.jsx)("path",{d:"M20.4706 17.6471C20.4706 19.2064 19.2063 20.4707 17.647 20.4707C16.0876 20.4707 14.8236 19.2064 14.8236 17.6471C14.8236 16.0877 16.0876 14.8235 17.647 14.8235C19.2063 14.8235 20.4706 16.0877 20.4706 17.6471Z"}),Object(p.jsx)("path",{d:"M20.4706 27.9414C20.4706 29.5008 19.2063 30.7647 17.647 30.7647C16.0876 30.7647 14.8236 29.5008 14.8236 27.9414C14.8236 26.382 16.0876 25.1178 17.647 25.1178C19.2063 25.1178 20.4706 26.382 20.4706 27.9414Z"})]})})),Object(p.jsx)("div",{className:"note-text",title:Object(v.a)(e.createdDate,"MM/dd/yyyy hh:mm aaaaa'm"),children:e.content}),Object(p.jsx)("button",{className:"delete-note-button",title:"Delete note",onClick:function(){return o({type:_.DELETE_NOTE,payload:{personId:n.id,noteId:e.id}})},children:Object(p.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",className:"delete-note-icon",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}))}},e.id)})),e.placeholder]}))}})}):Object(p.jsx)("div",{className:"notes",children:Object(p.jsx)("div",{className:"no-notes-placeholder",children:"You currently have no notes for this person"})}),Object(p.jsxs)("form",{className:"note-input-section",children:[Object(p.jsx)("input",{className:"note-input",type:"text",placeholder:"Write a note",value:D,onChange:function(e){return I(e.target.value)}}),Object(p.jsx)("button",{className:"add-note-button",type:"submit",onClick:function(){var e=D.trim();if(e){var t={id:Object(h.a)(),content:e,createdDate:new Date};o({type:_.ADD_NOTE,payload:{id:n.id,note:t}}),I("")}},disabled:0===D.trim().length,title:"Add note",children:"+ Note"})]})]})}),y=(t(148),function(e){var n=e.personId,t=e.connection,i=e.setSearchInputValue,o=e.peopleDispatch,r=Object(c.useState)(!1),a=Object(d.a)(r,2),s=a[0],l=a[1];return Object(p.jsxs)("div",{className:"chip ".concat(s?"activated":""),tabIndex:0,onClick:function(){return l(!0)},onBlur:function(){return l(!1)},children:[Object(p.jsx)("div",{className:"chip-text",title:"Search connection",onClick:function(){s&&i(t.name)},children:t.name}),Object(p.jsx)("div",{className:"delete-chip-button",title:"Delete connection",onClick:function(){return o({type:_.DELETE_CONNECTION,payload:{personId:n,connectionId:t.id}})},children:Object(p.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",className:"delete-chip-icon",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),D=t(22),I=(t(150),function(e){var n=e.people,t=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=function(e){return{nodes:[{name:"me"}].concat(Object(s.a)(e.map((function(e){return{name:e.name}})))),links:e.map((function(e){return{source:"me",target:e.name}}))}}(n),c=e.nodes,i=e.links,o=D.h(t.current),r=D.f(D.g),a=D.e(c).force("link",D.c(i).id((function(e){return e.name}))).force("charge",D.d().strength(-500)).force("center",D.b(270,200)).on("tick",(function(){d.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),l.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))})),d=o.append("g").attr("stroke","#999").attr("stroke-opacity",.4).attr("stroke-width",1).attr("stroke-linecap","round").selectAll("line").data(i).join("line"),l=o.append("g").attr("stroke","#ccc").attr("stroke-opacity",1).attr("stroke-width",1.5).selectAll("circle").data(c).join("circle").attr("r",10).attr("fill",(function(e){return r(e.name)})).call(function(e){return D.a().on("start",(function(n,t){n.active||e.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(e,n){n.fx=e.x,n.fy=e.y})).on("end",(function(n,t){n.active||e.alphaTarget(0),t.fx=null,t.fy=null}))}(a));l.append("title").text((function(e){return e.name}))}),[n]),Object(p.jsx)("svg",{id:"d3-svg",ref:t})}),k=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d*)?(?:[-+]\d{2}:?\d{2}|Z)?$/;function S(e){return e&&"string"===typeof e&&k.test(e)}function T(e){for(var n=0,t=Object.entries(e);n<t.length;n++){var c=Object(d.a)(t[n],2),i=c[0],o=c[1];S(o)&&(e[i]=new Date(o)),"object"===typeof o&&T(o)}}var _;t(151);function P(e){var n=localStorage.getItem("data");if(null!==n){var t=JSON.parse(n);return T(t),t}return e}function w(e,n){var t=n.type,c=n.payload;switch(t){case _.ADD_PERSON:return Object(u.a)(e,(function(e){var n={id:Object(h.a)(),name:c.name,notes:[],createdDate:new Date,isPinned:!1,showConnections:!1,connections:[]};e.push(n)}));case _.DELETE_PERSON:return Object(u.a)(e,(function(e){var n=e.findIndex((function(e){return e.id===c.id}));e.splice(n,1),e.forEach((function(e){e.connections=e.connections.filter((function(e){return e.id!==c.id}))}))}));case _.PIN_PERSON:return Object(u.a)(e,(function(e){e.find((function(e){return e.id===c.id})).isPinned=!0}));case _.UNPIN_PERSON:return Object(u.a)(e,(function(e){e.find((function(e){return e.id===c.id})).isPinned=!1}));case _.SHOW_CONNECTIONS:return Object(u.a)(e,(function(e){e.find((function(e){return e.id===c.id})).showConnections=!0}));case _.HIDE_CONNECTIONS:return Object(u.a)(e,(function(e){e.find((function(e){return e.id===c.id})).showConnections=!1}));case _.ADD_CONNECTION:return Object(u.a)(e,(function(e){var n=e.find((function(e){return e.id===c.id}));null===n||void 0===n||n.connections.push(c.connection);var t=e.find((function(e){return e.id===c.connection.id}));null===t||void 0===t||t.connections.push({name:null===n||void 0===n?void 0:n.name,id:c.id})}));case _.DELETE_CONNECTION:return Object(u.a)(e,(function(e){var n,t,i,o,r=e.find((function(e){return e.id===c.personId})),a=null===r||void 0===r||null===(n=r.connections)||void 0===n?void 0:n.findIndex((function(e){return e.id===c.connectionId}));null===r||void 0===r||null===(t=r.connections)||void 0===t||t.splice(a,1);var s=e.find((function(e){return e.id===c.connectionId})),d=null===s||void 0===s||null===(i=s.connections)||void 0===i?void 0:i.findIndex((function(e){return e.id===c.personId}));null===s||void 0===s||null===(o=s.connections)||void 0===o||o.splice(d,1)}));case _.ADD_NOTE:return Object(u.a)(e,(function(e){var n=e.find((function(e){return e.id===c.id}));null===n||void 0===n||n.notes.push(c.note)}));case _.DELETE_NOTE:return Object(u.a)(e,(function(e){var n,t,i=e.find((function(e){return e.id===c.personId})),o=null===i||void 0===i||null===(n=i.notes)||void 0===n?void 0:n.findIndex((function(e){return e.id===c.noteId}));null===i||void 0===i||null===(t=i.notes)||void 0===t||t.splice(o,1)}));case _.REORDER_NOTES:return Object(u.a)(e,(function(e){var n=e.find((function(e){return e.id===c.id})),t=null===n||void 0===n?void 0:n.notes.splice(c.startIdx,1),i=Object(d.a)(t,1)[0];null===n||void 0===n||n.notes.splice(c.endIdx,0,i)}));default:return e}}!function(e){e.ADD_PERSON="ADD_PERSON",e.DELETE_PERSON="DELETE_PERSON",e.PIN_PERSON="PIN_PERSON",e.UNPIN_PERSON="UNPIN_PERSON",e.SHOW_CONNECTIONS="SHOW_CONNECTIONS",e.HIDE_CONNECTIONS="HIDE_CONNECTIONS",e.ADD_CONNECTION="ADD_CONNECTION",e.DELETE_CONNECTION="DELETE_CONNECTION",e.ADD_NOTE="ADD_NOTE",e.DELETE_NOTE="DELETE_NOTE",e.REORDER_NOTES="REORDER_NOTES"}(_||(_={}));var M=function(){var e=Object(c.useReducer)(w,[],P),n=Object(d.a)(e,2),t=n[0],i=n[1],o=t.map((function(e){return{name:e.name,id:e.id}})),r=Object(c.useState)(""),u=Object(d.a)(r,2),h=u[0],f=u[1],v=h.trim().length>0,N=Object(O.g)().pathname.slice(1),x=Object(c.useRef)(null);Object(c.useEffect)((function(){localStorage.setItem("data",JSON.stringify(t))}),[t]);var m=h?new l.a(t,{keys:["name","notes.content"],threshold:.4}).search(h).map((function(e){return e.item})):t,E=[].concat(Object(s.a)(m.filter((function(e){return e.isPinned}))),Object(s.a)(m.filter((function(e){return!e.isPinned})))),C=Object(c.useRef)(Object(j.debounce)((function(e){var n;f(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)}),150)).current,g=function(e){x.current.value=e,f(e)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{id:"top-container",children:[Object(p.jsxs)("div",{id:"search-container",children:[Object(p.jsx)("svg",{id:"search-icon",className:"".concat(v?"active":""),fill:"none",viewBox:"0 0 24 24",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Object(p.jsx)("input",{ref:x,id:"search-input",type:"text",placeholder:"Search by name, note",onChange:C}),Object(p.jsx)("button",{id:"delete-query-button",title:"Clear",className:"".concat(v?"show":""),onClick:function(){return g("")},children:Object(p.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",id:"delete-query-icon",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M6 18L18 6M6 6l12 12"})})})]}),Object(p.jsxs)("div",{id:"links-container",children:[Object(p.jsx)(a.b,{to:"/cards",title:"Card View",children:Object(p.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"#000",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),Object(p.jsx)(a.b,{to:"/graph",title:"Graph View",children:Object(p.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"#000",children:Object(p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"})})}),Object(p.jsx)("div",{className:"active-route-highlight ".concat(N)})]})]}),Object(p.jsxs)(O.d,{children:[Object(p.jsx)(O.b,{path:"/cards",children:Object(p.jsx)(b,{people:E,allConnections:o,hasQuery:v,setSearchInputValue:g,peopleDispatch:i})}),Object(p.jsx)(O.b,{path:"/graph",children:Object(p.jsx)(I,{people:E})}),Object(p.jsx)(O.b,{exact:!0,path:"/",children:Object(p.jsx)(O.a,{to:"/cards"})})]})]})},R=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,165)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,o=n.getLCP,r=n.getTTFB;t(e),c(e),i(e),o(e),r(e)}))};t(155);r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(a.a,{children:Object(p.jsx)(M,{})})}),document.getElementById("root")),R()}},[[156,1,2]]]);
//# sourceMappingURL=main.5295dc0c.chunk.js.map